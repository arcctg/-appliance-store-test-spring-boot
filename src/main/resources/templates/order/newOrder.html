<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>Create Order</title>
</head>
<body>
<div th:insert="~{menunavy::navy}"></div>
<h1 th:text="#{orders.btn.new}"></h1>

<form th:action="@{/orders/add}" th:object="${order}" method="post">
    <div>
        <label th:text="#{object.order.client}"></label>
        <select th:field="*{client}">
            <option th:each="client : ${clients}" th:value="${client.id}" th:text="${client.name}"></option>
        </select>
    </div>

    <div>
        <label th:text="#{object.order.employee}"></label>
        <select th:field="*{employee}">
            <option th:each="employee : ${employees}" th:value="${employee.id}" th:text="${employee.name}"></option>
        </select>
    </div>

    <div>
        <table class="table">
            <thead>
            <tr>
                <th>Appliance</th>
                <th>Price</th>
                <th>Quantity</th>
            </tr>
            </thead>
            <tbody th:field="*{orderRowSet}">
            <tr th:each="appliance : ${appliances}">
                <td th:text="${appliance.name}"></td>
                <td th:text="${appliance.price}"></td>
                <td>
                    <input type="number" min="0" name="number" value="0">
                </td>
            </tr>
            </tbody>
            <tbody>
<!--            <tr th:each="orderRow, iterStat : ${order.orderRowSet}">-->
<!--                <td>-->
<!--                    <select th:field="*{orderRowSet[__${iterStat.index}__].appliance}">-->
<!--                        <option th:each="appliance : ${appliances}" th:value="${appliance}" th:text="${appliance.name}"></option>-->
<!--                    </select>-->
<!--                </td>-->
<!--                <td>-->
<!--                    <input type="number" th:field="*{orderRowSet[__${iterStat.index}__].number}" min="0"/>-->
<!--                </td>-->
<!--                <td>-->
<!--                    <input type="text" th:field="*{orderRowSet[__${iterStat.index}__].amount}" readonly/>-->
<!--                </td>-->
<!--            </tr>-->
            </tbody>
        </table>
    </div>

    <div>
        <input class="btn btn-primary" type="submit" th:value="#{btn.submit}"/>
        <input class="btn btn-primary" type="reset" th:value="#{btn.reset}"/>
    </div>
</form>

<div th:insert="~{footer::footer}"></div>
</body>
</html>
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <title>Edit Order</title>
</head>
<body>
<div th:insert="~{menunavy::navy}"></div>
<h1 th:text="#{orders.btn.edit}"></h1>

<form th:action="@{/orders/edit}" th:object="${order}" method="post">
    <div>
        <label th:text="#{object.order.client}"></label>
        <select th:field="*{client}" disabled>
            <option th:each="client : ${clients}" th:value="${client.id}" th:text="${client.name}" th:selected="${client.id} == ${order.client.id}"></option>
        </select>
    </div>

    <div>
        <label th:text="#{object.order.employee}"></label>
        <select th:field="*{employee}" disabled>
            <option th:each="employee : ${employees}" th:value="${employee.id}" th:text="${employee.name}" th:selected="${employee.id} == ${order.employee.id}"></option>
        </select>
    </div>

    <div>
        <table class="table">
            <thead>
            <tr>
                <th>Appliance</th>
                <th>Price</th>
                <th>Quantity</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="row : ${order.orderRowSet.ad}">
                <td th:text="${row.appliance.name}"></td>
                <td th:text="${row.appliance.price}"></td>
                <td>
                    <input type="number" min="0" th:field="*{orderRowSet[__${row.index}__].number}" th:value="${row.number}">
                </td>
            </tr>
            </tbody>
        </table>
    </div>

    <div>
        <a class="btn btn-primary" th:href="@{/orders/choice-appliance(id=${order.id})}">
            <i class="fa fa-plus-square-o"></i> <span th:text="#{btn.add}"></span>
        </a>
    </div>

    <div>
        <input class="btn btn-primary" type="submit" th:value="#{btn.submit}"/>
        <input class="btn btn-primary" type="reset" th:value="#{btn.reset}"/>
    </div>
</form>

<div th:insert="~{footer::footer}"></div>
</body>
</html>